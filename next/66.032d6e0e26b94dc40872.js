(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{DRQ8:function(n,l,u){"use strict";u.r(l);var e=u("CcnG"),t=function(){return function(){}}(),a=u("pMnS"),r=u("KM9H"),c=u("vuB0"),i=u("4vXS"),o=u("7uv5"),b=u("MGne"),s=u("NfCQ"),f=u("kztb"),p=u("V+dw"),d=u("8bEz"),h=u("k6ER"),g=u("4Ssn"),D=u("S+eJ"),v=u("Ip0R"),w=u("jvbL"),k=function(){function n(n){var l=this;this.authService=n,this.alive=!0,this.authService.onTokenChange().pipe(Object(w.a)(function(){return l.alive})).subscribe(function(n){l.token=null,n&&n.isValid()&&(l.token=n)})}return n.prototype.login=function(){var n=this;this.authService.authenticate("azure").pipe(Object(w.a)(function(){return n.alive})).subscribe(function(n){})},n.prototype.logout=function(){var n=this;this.authService.logout("azure").pipe(Object(w.a)(function(){return n.alive})).subscribe(function(n){})},n.prototype.ngOnDestroy=function(){this.alive=!1},n}(),F=u("BDhN"),y=e.tb({encapsulation:2,styles:[],data:{}});function m(n){return e.Pb(0,[(n()(),e.vb(0,0,null,null,1,"button",[["nbButton",""],["status","success"]],null,[[null,"click"]],function(n,l,u){var e=!0;return"click"===l&&(e=!1!==n.component.login()&&e),e},null,null)),(n()(),e.Nb(-1,null,["Sign In with Azure"]))],null,null)}function O(n){return e.Pb(0,[(n()(),e.vb(0,0,null,null,1,"button",[["nbButton",""],["status","warning"]],null,[[null,"click"]],function(n,l,u){var e=!0;return"click"===l&&(e=!1!==n.component.logout()&&e),e},null,null)),(n()(),e.Nb(-1,null,["Sign Out"]))],null,null)}function z(n){return e.Pb(0,[(n()(),e.vb(0,0,null,null,16,"nb-layout",[],[[2,"window-mode",null],[2,"with-scroll",null],[2,"with-subheader",null],[2,"overlay-scroll-block",null]],[["window","scroll"],["window","resize"]],function(n,l,u){var t=!0;return"window:scroll"===l&&(t=!1!==e.Fb(n,1).onScroll(u)&&t),"window:resize"===l&&(t=!1!==e.Fb(n,1).onResize(u)&&t),t},r.f,r.b)),e.ub(1,4374528,null,0,c.b,[i.a,o.a,e.k,e.F,b.f,b.b,e.C,s.c,f.a,p.a,d.a,h.a],null,null),(n()(),e.vb(2,0,null,3,14,"nb-layout-column",[],[[2,"left",null],[2,"start",null]],null,null,r.e,r.a)),e.ub(3,49152,null,0,c.a,[],null,null),(n()(),e.vb(4,0,null,0,12,"nb-card",[],[[2,"size-tiny",null],[2,"size-small",null],[2,"size-medium",null],[2,"size-large",null],[2,"size-giant",null],[2,"status-primary",null],[2,"status-info",null],[2,"status-success",null],[2,"status-warning",null],[2,"status-danger",null],[2,"accent",null],[2,"accent-primary",null],[2,"accent-info",null],[2,"accent-success",null],[2,"accent-warning",null],[2,"accent-danger",null]],null,null,g.f,g.b)),e.ub(5,49152,null,0,D.b,[],null,null),(n()(),e.vb(6,0,null,1,10,"nb-card-body",[],null,null,null,g.e,g.a)),e.ub(7,49152,null,0,D.a,[],null,null),(n()(),e.vb(8,0,null,0,1,"p",[],null,null,null,null,null)),(n()(),e.Nb(9,null,["Current User Authenticated: ",""])),(n()(),e.vb(10,0,null,0,2,"p",[],null,null,null,null,null)),(n()(),e.Nb(11,null,["Current User Token: ",""])),e.Hb(0,v.h,[]),(n()(),e.kb(16777216,null,0,1,null,m)),e.ub(14,16384,null,0,v.n,[e.S,e.O],{ngIf:[0,"ngIf"]},null),(n()(),e.kb(16777216,null,0,1,null,O)),e.ub(16,16384,null,0,v.n,[e.S,e.O],{ngIf:[0,"ngIf"]},null)],function(n,l){var u=l.component;n(l,14,0,!u.token),n(l,16,0,u.token)},function(n,l){var u=l.component;n(l,0,0,e.Fb(l,1).windowModeValue,e.Fb(l,1).withScrollValue,e.Fb(l,1).withSubheader,e.Fb(l,1).overlayScrollBlock),n(l,2,0,e.Fb(l,3).leftValue,e.Fb(l,3).startValue),n(l,4,1,[e.Fb(l,5).tiny,e.Fb(l,5).small,e.Fb(l,5).medium,e.Fb(l,5).large,e.Fb(l,5).giant,e.Fb(l,5).primary,e.Fb(l,5).info,e.Fb(l,5).success,e.Fb(l,5).warning,e.Fb(l,5).danger,e.Fb(l,5).hasAccent,e.Fb(l,5).primaryAccent,e.Fb(l,5).infoAccent,e.Fb(l,5).successAccent,e.Fb(l,5).warningAccent,e.Fb(l,5).dangerAccent]),n(l,9,0,!!u.token),n(l,11,0,e.Ob(l,11,0,e.Fb(l,12).transform(u.token)))})}function S(n){return e.Pb(0,[(n()(),e.vb(0,0,null,null,1,"nb-playground-azure",[],null,null,null,z,y)),e.ub(1,180224,null,0,k,[F.a],null,null)],null,null)}var j=e.rb("nb-playground-azure",k,S,{},{},[]),A=function(){function n(n,l){var u=this;this.authService=n,this.router=l,this.alive=!0,this.authService.authenticate("azure").pipe(Object(w.a)(function(){return u.alive})).subscribe(function(n){n.isSuccess()&&n.getRedirect()&&u.router.navigateByUrl(n.getRedirect())})}return n.prototype.ngOnDestroy=function(){this.alive=!1},n}(),V=u("ZYCi"),N=e.tb({encapsulation:2,styles:[],data:{}});function C(n){return e.Pb(0,[(n()(),e.vb(0,0,null,null,4,"nb-layout",[],[[2,"window-mode",null],[2,"with-scroll",null],[2,"with-subheader",null],[2,"overlay-scroll-block",null]],[["window","scroll"],["window","resize"]],function(n,l,u){var t=!0;return"window:scroll"===l&&(t=!1!==e.Fb(n,1).onScroll(u)&&t),"window:resize"===l&&(t=!1!==e.Fb(n,1).onResize(u)&&t),t},r.f,r.b)),e.ub(1,4374528,null,0,c.b,[i.a,o.a,e.k,e.F,b.f,b.b,e.C,s.c,f.a,p.a,d.a,h.a],null,null),(n()(),e.vb(2,0,null,3,2,"nb-layout-column",[],[[2,"left",null],[2,"start",null]],null,null,r.e,r.a)),e.ub(3,49152,null,0,c.a,[],null,null),(n()(),e.Nb(-1,0,["Authenticating..."]))],null,function(n,l){n(l,0,0,e.Fb(l,1).windowModeValue,e.Fb(l,1).withScrollValue,e.Fb(l,1).withSubheader,e.Fb(l,1).overlayScrollBlock),n(l,2,0,e.Fb(l,3).leftValue,e.Fb(l,3).startValue)})}function E(n){return e.Pb(0,[(n()(),e.vb(0,0,null,null,1,"nb-playground-azure-callback",[],null,null,null,C,N)),e.ub(1,180224,null,0,A,[F.a,V.l],null,null)],null,null)}var R=e.rb("nb-playground-azure-callback",A,E,{},{},[]),I=u("gIcY"),P=u("t/Na"),B=u("0ICW"),M=u("Abgx"),T=u("znn7"),J=u("Y4k2"),_=u("Bc6B"),q=u("6y2k"),X=u("++eV"),H=u("X/Iy"),Q=u("mrSG"),Y=u("F/XL"),G=u("15JJ"),K=u("67Y/"),U=u("9Z1F"),x=u("4pP6"),Z=u("89WS"),L=u("V1Ee"),W=function(n){function l(){return null!==n&&n.apply(this,arguments)||this}return Object(Q.c)(l,n),l.prototype.getValue=function(){return this.token.id_token},l.NAME="nb:auth:azure:token",l}(x.c),$=function(n){function l(){var l,u,e=null!==n&&n.apply(this,arguments)||this;return e.redirectResultHandlers=((l={})[Z.c.CODE]=function(){return Object(Y.a)(e.route.snapshot.queryParams).pipe(Object(G.a)(function(n){return n.code?e.requestToken(n.code):Object(Y.a)(new L.a(!1,n,e.getOption("redirect.failure"),e.getOption("defaultErrors"),[]))}))},l.id_token=function(){var n=e.getOption("authorize.requireValidToken");return Object(Y.a)(e.route.snapshot.fragment).pipe(Object(K.a)(function(n){return e.parseHashAsQueryParams(n)}),Object(K.a)(function(l){return l.error?new L.a(!1,l,e.getOption("redirect.failure"),e.getOption("defaultErrors"),[]):new L.a(!0,l,e.getOption("redirect.success"),[],e.getOption("defaultMessages"),e.createToken(l,n))}),Object(U.a)(function(n){var l=[];return l.push(n instanceof x.a?n.message:"Something went wrong."),Object(Y.a)(new L.a(!1,n,e.getOption("redirect.failure"),l))}))},l),e.redirectResults=((u={})[Z.c.CODE]=function(){return Object(Y.a)(null)},u.id_token=function(){return Object(Y.a)(e.route.snapshot.fragment).pipe(Object(K.a)(function(n){return e.parseHashAsQueryParams(n)}),Object(K.a)(function(n){return!(!n||!n.id_token&&!n.error)}))},u),e}return Object(Q.c)(l,n),l.setup=function(n){return[l,n]},l}(H.a),nn=u("i6JN"),ln=u("F4EV"),un=u("IVq4"),en=u("NFr4"),tn=u("0AKQ"),an=u("DJEY"),rn=u("+q8+"),cn=u("+Zd3"),on=u("4aFR"),bn=function(){return function(){}}();u.d(l,"AzurePlaygroundModuleNgFactory",function(){return sn});var sn=e.sb(t,[],function(n){return e.Cb([e.Db(512,e.j,e.eb,[[8,[a.a,j,R]],[3,e.j],e.y]),e.Db(4608,v.p,v.o,[e.v,[2,v.G]]),e.Db(4608,I.z,I.z,[]),e.Db(4608,P.k,P.q,[v.d,e.C,P.o]),e.Db(4608,P.r,P.r,[P.k,P.p]),e.Db(5120,P.a,function(n){return[n]},[P.r]),e.Db(4608,P.n,P.n,[]),e.Db(6144,P.l,null,[P.n]),e.Db(4608,P.j,P.j,[P.l]),e.Db(6144,P.b,null,[P.j]),e.Db(4608,P.g,P.m,[P.b,e.r]),e.Db(4608,P.c,P.c,[P.g]),e.Db(4608,d.a,d.a,[V.l]),e.Db(5120,B.b,M.c,[B.f]),e.Db(5120,B.c,M.d,[B.b,e.r]),e.Db(5120,B.d,M.e,[B.c]),e.Db(4608,T.b,T.b,[T.a,B.d]),e.Db(4608,J.b,J.a,[T.b]),e.Db(4608,_.a,_.a,[J.b]),e.Db(4608,F.a,F.a,[_.a,B.c]),e.Db(4608,q.a,q.a,[]),e.Db(4608,X.a,X.a,[P.c,V.a]),e.Db(4608,H.a,H.a,[P.c,V.a,b.f]),e.Db(4608,$,$,[P.c,V.a,b.f]),e.Db(1073742336,v.c,v.c,[]),e.Db(1073742336,I.y,I.y,[]),e.Db(1073742336,I.i,I.i,[]),e.Db(1073742336,P.e,P.e,[]),e.Db(1073742336,P.d,P.d,[]),e.Db(1073742336,V.p,V.p,[[2,V.u],[2,V.l]]),e.Db(1073742336,nn.a,nn.a,[]),e.Db(1073742336,ln.a,ln.a,[]),e.Db(1073742336,un.a,un.a,[en.a]),e.Db(1073742336,tn.a,tn.a,[]),e.Db(1073742336,an.a,an.a,[]),e.Db(1073742336,rn.a,rn.a,[]),e.Db(1073742336,cn.a,cn.a,[]),e.Db(1073742336,on.a,on.a,[]),e.Db(1073742336,M.a,M.a,[]),e.Db(1073742336,bn,bn,[]),e.Db(1073742336,t,t,[]),e.Db(256,P.o,"XSRF-TOKEN",[]),e.Db(256,P.p,"X-XSRF-TOKEN",[]),e.Db(1024,V.j,function(){return[[{path:"",component:k},{path:"callback",component:A}]]},[]),e.Db(256,B.f,{strategies:[[$,{name:"azure",clientId:"bde728e2-2809-4ff1-bc9c-7fcb23800ebe",clientSecret:"",authorize:{endpoint:"https://login.microsoftonline.com/01513fd2-16a0-453b-9fa0-c9089bfa023e/oauth2/authorize",responseType:"id_token",scope:"openid",redirectUri:"https://akveo.github.io/nebular/example/azure/callback",params:{p:"b2c_1_nebular"}},token:{class:W},redirect:{success:"/example/azure"}}]]},[]),e.Db(256,T.a,x.e,[]),e.Db(256,B.a,"Authorization",[]),e.Db(256,B.e,M.b,[])])})}}]);